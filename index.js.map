{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// DOM elements\nconst DOM = {\n\tmenuButtons: document.querySelectorAll('[data-menuButton]'),\n\tcontentHero: document.querySelector('.hero .container'),\n\tdarkWindow: document.querySelector('#dark-window'),\n\theader: document.querySelector('#pageheader'),\n\tmenu: document.querySelector('#mobile-menu'),\n\tmodalButtons: document.querySelectorAll('[data-modal-window]'),\n\tmodal: document.querySelector('#backdrop'),\n\tupcomingButtonRight: document.querySelector('#upcoming-button-right'),\n\tupcomingButtonLeft: document.querySelector('#upcoming-button-left'),\n\tupcomingList: document.querySelector('#upcoming-tours-list'),\n\tupcomingModalItems: document.querySelectorAll('.upcoming-modal-list-item'),\n\tupcomingNavButtons: document.querySelectorAll('.upcoming-modal-list-item-listbtn-item'),\n\tswapCardButtonsList: document.querySelectorAll('.upcoming-modal-list-item-listbtn'),\n\tupcomingToggleModalButtons: document.querySelectorAll('[data-toggle-modal]'),\n\treviewsBlock: document.querySelector('.reviews-block'),\n\treviewsCards: document.querySelectorAll('.reviews-inner'),\n\tgalleryButonRight: document.querySelector('#galery-button-right'),\n\tgalleryButonLeft: document.querySelector('#galery-button-left'),\n\tgalleryList: document.querySelector('.galery-list'),\n};\n\n// open and close mobile menu\n\nDOM.menuButtons.forEach(button => button.addEventListener('click', mobileMenuHandler));\n\nfunction mobileMenuHandler() {\n\tDOM.menu.classList.toggle('open-menu');\n\tDOM.darkWindow.classList.toggle('dark-window');\n\tDOM.header.classList.toggle('padding-for-tablet-menu');\n\tchangeVisuallyHidden([DOM.contentHero, ...DOM.menuButtons]);\n}\n\nfunction changeVisuallyHidden(elements) {\n\telements.forEach(element => element.classList.toggle('visually-hidden'));\n}\n\n// open and close modal window\n\nDOM.modalButtons.forEach(button => button.addEventListener('click', modalWindowHandler));\n\nfunction modalWindowHandler() {\n\tDOM.modal.classList.toggle('is-open');\n}\n\n// swap upcoming tours\n\nDOM.upcomingButtonRight.addEventListener('click', upcomingButtonRightHandler);\nDOM.upcomingButtonLeft.addEventListener('click', upcomingButtonLeftHandler);\n\nconst stepUpcoming = innerWidth < 768 ? 326 : 374;\nlet translateUpcoming = 0;\n\nfunction upcomingButtonRightHandler() {\n\ttranslateUpcoming += stepUpcoming;\n\tDOM.upcomingList.style.transform = `translate(-${translateUpcoming}px)`;\n\tDOM.upcomingButtonLeft.disabled = false;\n\tif (innerWidth >= 768 || translateUpcoming === 652) {\n\t\tthis.disabled = true;\n\t}\n}\n\nfunction upcomingButtonLeftHandler() {\n\ttranslateUpcoming -= stepUpcoming;\n\tDOM.upcomingList.style.transform = `translate(-${translateUpcoming}px)`;\n\tDOM.upcomingButtonRight.disabled = false;\n\tif (translateUpcoming === 0) {\n\t\tthis.disabled = true;\n\t}\n}\n\n// resize\n\nconst breakpoints = [768, 1440, 1920];\n\nbreakpoints.forEach(bp => {\n\tconst maxWidth = window.matchMedia(`(max-width: ${bp - 1}px)`);\n\tconst minWidth = window.matchMedia(`(min-width: ${bp}px)`);\n\n\tmaxWidth.addEventListener('change', resizeHandler);\n\tminWidth.addEventListener('change', resizeHandler);\n});\n\nfunction resizeHandler(event) {\n\tif (event.matches) {\n\t\tlocation.reload();\n\t}\n}\n\n// swap upcoming days mobile\n\ndocument.addEventListener('DOMContentLoaded', swapDays);\n\nconst classSelected = 'selected-card-modal-days';\nconst classRight = 'right-position';\nconst classLeft = 'left-position';\n\nfunction swapDays() {\n\tDOM.upcomingModalItems.forEach((item, index) => {\n\t\tlet startX = 0;\n\t\tlet endX = 0;\n\n\t\titem.addEventListener('touchstart', event => {\n\t\t\tstartX = event.touches[0].clientX;\n\t\t});\n\n\t\titem.addEventListener('touchend', event => {\n\t\t\tendX = event.changedTouches[0].clientX;\n\t\t\tconst diffX = endX - startX;\n\n\t\t\tif (diffX < -50 || diffX > 50) {\n\t\t\t\tcheckCardPosition.call(item, index, diffX);\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction checkCardPosition(index, diffX) {\n\tif (this.nextElementSibling && diffX < -50) {\n\t\tmoveCard(this, classSelected, classLeft);\n\t\tmoveCard(this.nextElementSibling, classRight, classSelected);\n\t\tpaintButton(index + 1);\n\t} else if (this.previousElementSibling && diffX > 50) {\n\t\tmoveCard(this, classSelected, classRight);\n\t\tmoveCard(this.previousElementSibling, classLeft, classSelected);\n\t\tpaintButton(index);\n\t}\n}\n\nfunction moveCard(card, removeClass, addClass) {\n\tcard.classList.remove(removeClass);\n\tcard.classList.add(addClass);\n}\n\nfunction paintButton(index) {\n\tDOM.upcomingNavButtons[index].classList.toggle('selected-card-days');\n}\n\n// swap upcoming days desctop\n\nif (innerWidth >= 1440) {\n\tDOM.swapCardButtonsList.forEach(button => button.addEventListener('click', swapDescHandler));\n}\n\nfunction swapDescHandler(event) {\n\tif (!event.target.classList.contains('upcoming-modal-list-item-listbtn-item')) {\n\t\treturn;\n\t}\n\n\tconst buttons = Array.from(this.children);\n\tconst cards = this.closest('.upcoming-modal').querySelectorAll('.upcoming-modal-list-item');\n\n\tpaintButtonsDesc(buttons, buttons.indexOf(event.target));\n\tswapCardsDesc(cards, buttons.indexOf(event.target));\n}\n\nfunction paintButtonsDesc(buttons, index) {\n\tbuttons.forEach((button, i) => {\n\t\tif (i > index) {\n\t\t\tbutton.classList.remove('selected-card-days');\n\t\t\treturn;\n\t\t}\n\t\tbutton.classList.add('selected-card-days');\n\t});\n}\n\nfunction swapCardsDesc(cards, index) {\n\tlet classForAdd = classLeft;\n\tcards.forEach((card, i) => {\n\t\tcard.classList.remove(classSelected, classRight, classLeft);\n\t\tif (i === index) {\n\t\t\tclassForAdd = classRight;\n\t\t\tcard.classList.add(classSelected);\n\t\t\treturn;\n\t\t}\n\t\tcard.classList.add(classForAdd);\n\t});\n}\n\n// open and close upcoming days\n\nDOM.upcomingToggleModalButtons.forEach(button => button.addEventListener('click', openUpcomingModal));\n\nfunction openUpcomingModal() {\n\tconst modal = document.querySelector(`[data-modal=\"${this.dataset.toggleModal}\"]`);\n\tmodal.classList.toggle('is-open');\n}\n\n// reviews show back photo\n\nDOM.reviewsBlock.addEventListener('click', getAroundCard);\n\nfunction getAroundCard(event) {\n\tif (!event.target.closest('.reviews-card-review-button')) {\n\t\treturn;\n\t}\n\tconst cards = window.innerWidth >= 1440 ? DOM.reviewsCards : [event.target.closest('.reviews-inner')];\n\tcards.forEach(card => card.classList.toggle('reviews-go-to-back'));\n}\n\n// swap gallery right\n\nDOM.galleryButonRight.addEventListener('click', galleryRightHandler);\n\nconst stepGallery = innerWidth < 768 ? 300 : innerWidth >= 1440 ? 1190 : 748;\nlet translateGallery = 0;\n\nfunction galleryRightHandler() {\n\ttranslateGallery += stepGallery;\n\n\tif (translateGallery === 300) {\n\t\ttranslateGallery -= 15;\n\t}\n\n\tDOM.galleryList.style.transform = `translate(-${translateGallery}px)`;\n\tDOM.galleryButonLeft.disabled = false;\n\n\tif ([2085, 2244, 3570].includes(translateGallery)) {\n\t\tthis.disabled = true;\n\t}\n}\n\n// swap gallery left\n\nDOM.galleryButonLeft.addEventListener('click', galleryLefttHandler);\n\nfunction galleryLefttHandler() {\n\tif ([2085, 2244, 3570].includes(translateGallery)) {\n\t\tDOM.galleryButonRight.disabled = false;\n\t}\n\n\ttranslateGallery = translateGallery === 285 ? 0 : translateGallery - stepGallery;\n\n\tDOM.galleryList.style.transform = `translate(-${translateGallery}px)`;\n\tif (!translateGallery) {\n\t\tthis.disabled = true;\n\t}\n}\n\n// open modal gallery\n\nlet gallery = new SimpleLightbox('.galery-list a', {\n\tcaptionsData: 'alt',\n\tloop: false,\n\tdocClose: false,\n\thtmlClass: 'qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq',\n});\n"],"names":["DOM","button","mobileMenuHandler","changeVisuallyHidden","elements","element","modalWindowHandler","upcomingButtonRightHandler","upcomingButtonLeftHandler","stepUpcoming","translateUpcoming","breakpoints","bp","maxWidth","minWidth","resizeHandler","event","swapDays","classSelected","classRight","classLeft","item","index","startX","endX","diffX","checkCardPosition","moveCard","paintButton","card","removeClass","addClass","swapDescHandler","buttons","cards","paintButtonsDesc","swapCardsDesc","i","classForAdd","openUpcomingModal","getAroundCard","galleryRightHandler","stepGallery","translateGallery","galleryLefttHandler","SimpleLightbox"],"mappings":"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"}